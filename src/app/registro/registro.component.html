<div class="container">
  <form
    class="custom-form"
    [formGroup]="FormularioRegistro"
    (ngSubmit)="registroFormulario()"
  >
    <h1>Registro</h1>
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        class="form-control"
        id="nombre"
        name="nombre"
        formControlName="nombre"
      />
    </div>
    <div
      *ngIf="
        FormularioRegistro.get('nombre')!.touched &&
        FormularioRegistro.get('nombre')!.hasError('required')
      "
      class="alert alert-danger"
      >El nombre es obligatorio</div
    >

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        formControlName="email"
      />
    </div>
    <div
      *ngIf="
        FormularioRegistro.get('email')!.touched &&
        FormularioRegistro.get('email')!.hasError('required')
      "
      class="alert alert-danger"
      >El correo electronico es obligatorio</div
    >
    <div
      *ngIf="
        FormularioRegistro.get('email')!.touched &&
        FormularioRegistro.get('email')!.hasError('email')
      "
      class="alert alert-danger"
      >El correo electrónico no tiene un formato válido</div
    >
    <div class="form-group">
      <label for="password">Contraseña:</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
        formControlName="password"
      />
    </div>
    <div
      *ngIf="
        FormularioRegistro.get('password')!.touched &&
        FormularioRegistro.get('password')!.hasError('required')
      "
      class="alert alert-danger"
      >La contraseña es obligatoria</div
    >
    <div class="form-group">
      <label for="password2">Repite contraseña:</label>
      <input
        type="password"
        class="form-control"
        id="password2"
        name="password2"
        formControlName="password2"
      />
      <div
        *ngIf="
          FormularioRegistro.get('password2')!.touched &&
          FormularioRegistro.get('password2')!.hasError('required')
        "
        class="alert alert-danger"
        >La contraseña es obligatoria</div
      >
      <div
        *ngIf="
          FormularioRegistro.get('password2')!.hasError('passwordMismatch')
        "
        class="alert alert-danger"
        >Las contraseñas no coinciden</div
      >
      <div *ngIf="usuarioExistente" class="alert alert-danger">
        El usuario ya existe. Por favor, intenta con un Nombre diferente.
      </div>
    </div>
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="!FormularioRegistro.valid"
    >
      Registrarse
    </button>
  </form>
</div>
